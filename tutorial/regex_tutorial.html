<!doctype html>
<html>
<head>
	<meta charset='utf-8'>
	<title>正则表达式快速入门</title>

 <style type="text/css">
  .match {
	 color:red;
  }
  body {
	font-size: 72px !important;
 }
 .unsorted {
   padding-right: 0px; 
   padding-left: 0px; 
   margin: 0px 0px 0px 2em; 
   list-style: disc; "
}
.list {
    margin: 0.5em 0px;
     padding: 0px; 
}
 </style>
</head>
<body>
<div class="row-fluid" style="width: 1865px; color: rgb(51, 51, 51); font-family: 'Helvetica Neue', Helvetica, Arial, sans-serif; font-size: 30px; line-height: 38px; ">
	<div class="span10" style="float: left; margin-left: 47.81666564941406px; width: 1546.183349609375px; min-height: 28px; box-sizing: border-box; ">
		<div class="well" style="min-height: 20px; padding: 19px; margin-bottom: 20px; background-color: rgb(245, 245, 245); border: 1px solid rgba(0, 0, 0, 0.046875); border-top-left-radius: 4px; border-top-right-radius: 4px; border-bottom-right-radius: 4px; border-bottom-left-radius: 4px; -webkit-box-shadow: rgba(0, 0, 0, 0.046875) 0px 1px 1px inset; box-shadow: rgba(0, 0, 0, 0.046875) 0px 1px 1px inset; ">
			<div class="github" style="font-size: 23.34px; font-family: helvetica, arial, freesans, clean, sans-serif; color: black; line-height: 1.4em; ">
				<h1 id="regularexpression" style="margin: 0px; font-family: inherit; color: inherit; text-rendering: optimizelegibility; font-size: 33px; line-height: 36px; padding: 0.25em 0px 0px; border-right-width: 0px; border-bottom-width: 0px; border-left-width: 0px; border-top-style: none; ">
					正则表达式 (Regular Expression)</h1>
				<h2 id="" style="margin: 1.5em 0px 1em; font-family: inherit; color: inherit; text-rendering: optimizelegibility; font-size: 23px; line-height: 36px; padding: 0.5em 0px 0px; border-width: 4px 0px 0px; border-top-style: solid; border-top-color: rgb(224, 224, 224); ">
					什么是正则表达式</h2>
				<p style="margin: 1em 0px; padding: 0px; line-height: 1.5em; ">
					<a href="https://zh.wikipedia.org/zh/%E6%AD%A3%E5%88%99%E8%A1%A8%E8%BE%BE%E5%BC%8F" style="color: rgb(65, 131, 196); text-decoration: none; margin: 0px; padding: 0px; ">正则表达式</a>&nbsp;（英语：Regular Expression、regex或regexp，缩写为RE），在计算机科学中，是指一个用来描述或者匹配一系列符合某个句法规则的字符串的单个字符串。 -- 维基百科</p>
				<p style="margin: 1em 0px; padding: 0px; line-height: 1.5em; ">
					一句话，正则表达式是强大的文本处理工具。</p>
				<p style="margin: 1em 0px; padding: 0px; line-height: 1.5em; ">
					想系统地学习正则表达式的同学可以看《精通正则表达式》这本书，正则表达式的引擎分为<a href="http://en.wikipedia.org/wiki/Deterministic_finite_automaton">DFA</a>和<a href="http://en.wikipedia.org/wiki/Nondeterministic_finite_automaton">NFA</a>，分别是<a href="https://zh.wikipedia.org/wiki/%E7%A1%AE%E5%AE%9A%E6%9C%89%E9%99%90%E7%8A%B6%E6%80%81%E8%87%AA%E5%8A%A8%E6%9C%BA">确定性有穷自动机</a>和<a href="https://zh.wikipedia.org/zh/%E9%9D%9E%E7%A1%AE%E5%AE%9A%E6%9C%89%E9%99%90%E7%8A%B6%E6%80%81%E8%87%AA%E5%8A%A8%E6%9C%BA">非确定性有穷自动机</a>，前者速度快，后者功能更多，现在用的一般都是NFA引擎的，包括Perl、Ruby、Python、Java、.NET等的正则表达式都是NFA的，虽然它确实很慢。</p>
				<h2 id="" style="margin: 1.5em 0px 1em; font-family: inherit; color: inherit; text-rendering: optimizelegibility; font-size: 20px; line-height: 36px; padding: 0.5em 0px 0px; border-width: 4px 0px 0px; border-top-style: solid; border-top-color: rgb(224, 224, 224); ">
					一点历史</h2>
				<p style="margin: 1em 0px; padding: 0px; line-height: 1.5em; ">
					最初的正则表达式出现于理论计算机科学的自动控制理论和形式化语言理论中。在这些领域中有对计算（自动控制）的模型和对形式化语言描述与分类的研究。1940年代，Warren McCulloch与Walter Pitts将神经系统中的神经元描述成小而简单的自动控制元。在1950年代，数学家斯蒂芬&middot;科尔&middot;克莱尼利用称之为「正则集合」的数学符号来描述此模型。肯&middot;汤普逊将此符号系统引入编辑器QED，然后是Unix上的编辑器ed，并最终引入grep。自此，正則表达式被广泛地使用于各种Unix或者类似Unix的工具，例如Perl。</p>
				<p style="margin: 1em 0px; padding: 0px; line-height: 1.5em; ">
					Perl正则表达式源自于Henry Spencer写的regex，它已经演化成了pcre（Perl兼容正则表达式，Perl Compatible Regular Expressions），一个由Philip Hazel开发的，为很多现代工具所使用的库。 各计算机语言之间的正則表达式的整合目前开展的很差。未来的Perl 6的子项目Apocalypse的设计中已考虑到了这点。 --维基百科</p>
				<h2 id="" style="margin: 1.5em 0px 1em; font-family: inherit; color: inherit; text-rendering: optimizelegibility; font-size: 20px; line-height: 36px; padding: 0.5em 0px 0px; border-width: 4px 0px 0px; border-top-style: solid; border-top-color: rgb(224, 224, 224); ">
					正则表达式快速入门</h2>
				<p style="margin: 1em 0px; padding: 0px; line-height: 1.5em; ">
					由于正则表达式在很多语言和工具中的使用方法不太一样，我们只关心正则表达式匹配的内容，忽略对匹配的内容的处理（捕获、删除、替换等）。为了方便学习，我们使用javascript展示正则表达式的匹配结果。红色部分表示前面的正则表达式在后面文本中匹配的内容，可以在线测试。</p>
				<ul style="padding-right: 0px; padding-left: 0px; margin: 1em 0px 1em 2em; list-style-position: initial; list-style-image: initial; ">
					<li style="line-height: 18px; margin: 0.5em 0px; padding: 0px; ">
						<p style="margin: 1em 0px; padding: 0px; line-height: 1.5em; ">
							匹配单个字符</p>
						<ul class="unsorted">
							<li class="list">
								匹配什么用什么 学会这一招你就已经掌握正则表达式的30%</li>
                            <ul class="unsorted"><br/>
                                <li class="list">
                                    a &nbsp;<span class="match">a</span>bcdefg</li><br/>
                                <li class="list">
                                    0 &nbsp; 111111<span class="match">0</span>1111</li><br/>
                                <li class="list">
                                    xx &nbsp;&nbsp; oo<span class="match">xx</span>oo</li><br/>
                            </ul>
							<li class="list">
								匹配任意字符（除了换行符） .</li><br/>
							<li class="list">
								匹配数字 \d 
								<ul class="unsorted"><br/>
									<li class="list">
										\d\d\d &nbsp;&nbsp; hao<span class="match" style="margin: 0px; padding: 0px; color: red; ">123</span>.com</li><br/>
								</ul>
							</li>
							<li class="list">
								匹配非数字 \D
								<ul class="unsorted"><br/>
									<li class="list">
										\D\D&nbsp;&nbsp; <span class="match" >ha</span>o123<span class="match" >.c<span><span class="match">om</span></li><br/>
								</ul>
							</li>
							<li class="list">
								匹配字母数字下划线 \w
								<ul class="unsorted"><br/>
									<li class="list">
										\w\w&nbsp;&nbsp;<span class="match" >hao123</span>.<span class="match" >com</span></li><br/>
								</ul>
							</li>
							<li class="list">
								匹配非字母数字下划线 \W
								<ul class="unsorted"><br/>
									<li class="list">
										\W &nbsp;&nbsp; hao123<span class="match" >.</span>com</li><br/>
								</ul>
							</li>
							<li class="list">
								匹配换行 \n</li><br/>
							<li class="list">
								匹配单词边界 \b
								<ul class="unsorted"><br/>
									<li class="list">
										e\b &nbsp;&nbsp; firefox fir<span class="match" >e</span></li><br/>
								</ul>
							</li>
							<li class="list">
								匹配非单词边界 \B
								<ul class="unsorted"><br/>
									<li class="list">
										e\B &nbsp;&nbsp; fir<span class="match" >e</span>fox fire</li><br/>
								</ul>
							</li>
							<li class="list">
								单词起始 \&lt;</li>
							<li class="list">
								单词结束 \&gt; 
								<ul class="unsorted"><br/>
									<li class="list">
										\&lt;gnu\> &nbsp;&nbsp;cygnus&nbsp;<span class="match" >gnu</span></gnu\></li>
								</ul>
							</li><br/>
                            <li class="list">
								匹配字母数字下划线 &nbsp; \w </li>
                                <ul class="unsorted"><br/>
                                <li class="list">
                                    \w &nbsp;&nbsp; <span class="match" >_zzZzz_</span> .-,<span class="match">abcdeABCDE</span></li>
								</ul><br/>
                            <li class="list">
								匹配非字母数字下划线 &nbsp; \W </li>
                                <ul class="unsorted"><br/>
                                <li class="list">
                                    \W &nbsp;&nbsp; _zzZzz_<span class="match" > .-,</span>abcdeABCDE</li>
								</ul><br/>
                            <li class="list">
								匹配空格、tab &nbsp; \s </li>
						</ul>
					</li>
					<li style="line-height: 18px; margin: 0.5em 0px; padding: 0px; ">
						<p style="margin: 1em 0px; padding: 0px; line-height: 1.5em; ">
							匹配多个字符</p>
						<ul class="unsorted">
							<li class="list">
								匹配多个数字 最少一个 \d+
								<ul class="unsorted"><br/>
									<li class="list">
										a\d+ &nbsp;&nbsp;<span class="match" >a123</span>&nbsp;a</li><br/>
								</ul>
							</li>
							<li class="list">
								匹配多个数字 最少零个 \d*
								<ul class="unsorted"><br/>
									<li class="list">
										a\d*&nbsp;&nbsp; <span class="match" >a123</span>&nbsp;<span class="match" >a</span></li><br/>
								</ul>
							</li>
							<li class="list">
								匹配3个数字 \d{3}
								<ul class="unsorted"><br/>
									<li class="list">
										\d{3} &nbsp;&nbsp; a<span class="match" >123</span>&nbsp;a</li>
								</ul>
							</li><br/>
							<li class="list">
								匹配至少3个数字 \d{3,}
								<ul class="unsorted"><br/>
									<li class="list">
										\d{3,} &nbsp;&nbsp; a<span class="match" >123</span>&nbsp;a<span class="match" >1234</span></li><br/>
								</ul>
							</li>
							<li class="list">
								匹配1-3个数字 \d{1,3}
								<ul class="unsorted"><br/>
									<li class="list">
										\d{1,3} &nbsp;&nbsp; a<span class="match" >123</span>&nbsp;a<span class="match" >1</span>&nbsp; a<span class="match">23</span></li><br/></ul></li> 
							<li tyle="margin: 0.5em 0px; padding: 0px; ">
								匹配多个字母(最少1个) [a-zA-Z]+
								<ul class="unsorted"><br/>
<li  class="list">
										[a-zA-Z]+ &nbsp;&nbsp;<span class="match">God</span>&nbsp;<span class="match">is</span>&nbsp;a&nbsp;<span class="match" >girl</span>.</li></ul></li><br/>
							<li class="list">
								匹配多个字母(最少0个) [a-zA-Z]*
								<ul class="unsorted"><br/>
									<li class="list">
										[a-zA-Z]* &nbsp;&nbsp; <span class="match" >God</span>&nbsp;<span class="match" >is</span>&nbsp;<span class="match" >a</span>&nbsp;<span class="match" >girl</span>.</li><br/>
								</ul>
							</li>
							<li class="list">
								匹配字符集合 &nbsp; [a-g] &nbsp; [aefg]
								<ul class="unsorted"><br/>
									<li class="list">
										[a-g]&nbsp;&nbsp;<span class="match" >abcdefg</span>hijklmn</li><br/>
									<li class="list">
										[agik]&nbsp;&nbsp;<span class="match" >a</span>bcdef<span class="match">g</span>h<span class="match" >i</span>j<span class="match" >k</span>lmn</span></span></li><br/>
								</ul>
							</li>
							<li class="list">
								匹配字符补集 &nbsp;  [^a-g] &nbsp; [^0-9]
								<ul class="unsorted"><br/>
									<li class="list">
										[^a-g] &nbsp;&nbsp; abcdefg<span class="match" >hijklmn</span></li><br/>
									<li class="list">
										[^agik] &nbsp;&nbsp; a<span class="match" >bcdef</span>g<span class="match" >h</span>i<span class="match" >j</span>k<span class="match" >lmn</span></span></span></li><br/>
                                    <li class="list">
										[^abgik^-] &nbsp;&nbsp; ab<span class="match" >cdef</span>g<span class="match" >h</span>i<span class="match" >j</span>k<span class="match" >lmn</span>^-^</li><br/>
								</ul>
							</li>
						</ul>
					</li>
					<li style="line-height: 18px; margin: 0.5em 0px; padding: 0px; ">
						<p style="margin: 1em 0px; padding: 0px; line-height: 1.5em; ">
							匹配行首行尾</p>
						<ul class="unsorted">
							<li class="list">
								匹配行首 &nbsp; ^
								<ul class="unsorted"><br/>
									<li class="list">
										^a &nbsp;&nbsp;<span class="match" >a</span>bcdef fedcba</li>
								</ul><br/>
							</li>
							<li class="list">
								匹配行尾 &nbsp; $
								<ul class="unsorted"><br/>
									<li class="list">
										a$ &nbsp;&nbsp; abcdef fedcb<span class="match" >a</span></li></ul></li>
						</ul>
					</li>
					<li style="line-height: 18px; margin: 0.5em 0px; padding: 0px; ">
						<p style="margin: 1em 0px; padding: 0px; line-height: 1.5em; ">
							匹配 / \ [ ] ^ ( ) . $ + * ? 加 \ 转义</p>
						<ul class="unsorted">
							<li class="list">
								匹配 &nbsp; .
								<ul class="unsorted"><br/>
									<li class="list">
										\. domain<span class="match">.</span>com</li><br/>
								</ul>
							</li>
							<li class="list">
								匹配 \
								<ul class="unsorted"><br/>
									<li class="list">
										\\n &nbsp;&nbsp; printf(&quot;hello, world<span class="match">\n</span>&quot;);</li></ul></li></ul></li>
					<li style="line-height: 18px; margin: 0.5em 0px; padding: 0px; ">
						<p style="margin: 1em 0px; padding: 0px; line-height: 1.5em; ">
							多选结构 或</p>
						<ul class="unsorted">
							<li class="list">
								匹配多个分支 |</li>
                            <ul class="unsorted">
                                <li class="list">
								    (to be|not to be) &nbsp;&nbsp; <span class="match">to be</span> or <span class="match">not to be</span>, that's the question.</li>
                            </ul>
						</ul>
					</li>
					<li style="line-height: 18px; margin: 0.5em 0px; padding: 0px; ">
						<p style="margin: 1em 0px; padding: 0px; line-height: 1.5em; ">
							模式修饰符(javascript)</p>
						<ul class="unsorted">
							<li class="list">
								忽略大小写模式 i</li>
							<li class="list">
								其它略</li>
						</ul>
					</li>
					<li style="line-height: 18px; margin: 0.5em 0px; padding: 0px; ">
						<p style="margin: 1em 0px; padding: 0px; line-height: 1.5em; ">
							高级用法</p>
						<ul class="unsorted">
							<li class="list">
								捕获分组 &nbsp;&nbsp; ()</li>
							<li class="list">
								非捕获分组 &nbsp;&nbsp; (?:)</li>
							<li class="list">
								命名捕获 (?&lt;number&gt;\d*) 引用(?P=number)</li>
							<li class="list">
								懒惰模式(非贪婪匹配) &nbsp;&nbsp; *? &nbsp; +? &nbsp;?? &nbsp;{m,n}? &nbsp;{m,}?</li><br/>
								<ul class="unsorted">
									<li class="list">\d*?	&nbsp;&nbsp; 尽量少地匹配0个数字或多个数字 好吧，其实它懒得匹配，什么都不会匹配</li><br/>
									<li class="list">\d+?	&nbsp;&nbsp; 尽量少地匹配1个数字或多个数字 匹配一个数字或者什么都不匹配</li><br/>
									<li class="list">\d??	&nbsp;&nbsp; 尽量少地匹配0个数字或一个数字 好吧，其实它也懒得匹配，什么都不会匹配</li><br/>
								</ul>
							<li class="list">
								回溯引用(反向引用) &nbsp;&nbsp; \1 \N &nbsp; 分别对应前面捕获的分组</li>
								<ul class="unsorted"><br/>
									<li class="list">见举例</li><br/>
								</ul>
							
							<li class="list">
								固化分组(匹配之后不能回溯) (?>...) </li><ul class="unsorted"><br/>
									<li class="list">见举例</li><br/>
								</ul>

							<li class="list">
									环视 </li>
								<ul class="unsorted">
									<li class="list">
										肯定顺序环视 &nbsp; (?=...) &nbsp; 子表达式能够匹配右侧文本
                                        <ul class="unsorted"><br/>
                                            <li class="list">(?=firefox)fire &nbsp;&nbsp; firefly <span class="match">fire</span>fox fireman bufferfly mayfly</li></ul><br/>
									<li class="list">
										否定顺序环视 &nbsp;(?!...) &nbsp;子表达式不能够匹配右侧文本</li><br/>
                                    <ul class="unsorted">
                                        <li class="list">(?!firefox)fire &nbsp;&nbsp; <span class="match">fire</span>fly firefox <span class="match">fire</span>man bufferfly mayfly</li></ul><br/>
									<li class="list">
										肯定逆序环视 &nbsp; (?&lt;=...) &nbsp; 子表达式能够匹配左侧文本</li>
                                    <ul class="unsorted"><br/>
                                    <li class="list"> (?&lt;=&lt;p&gt;)[^&lt;]+(?=&lt;/p&gt;) &nbsp;&nbsp; &lt;p&gt;<span class="match">test</span>&lt;/p&gt; </li></ul><br/>
									<li class="list">
										否定逆序环视 &nbsp;  (?&lt;!...) &nbsp; 子表达式不能够匹配左侧文本</li>
                                    <ul class="unsorted"><br/>
                                    <li class="list">
                                        (?&lt;!^)\d+ &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;  1<span class="match">1001100</span>utf<span class="match">8</span></li><br/>

				    <li class="list">
                                        (?&lt;!utf)\d+ &nbsp;&nbsp; <span class="match">11001100</span>utf8
								</ul>
								<p style="margin: 1em 0px; padding: 0px; line-height: 1.5em; ">
									<strong >notice:</strong>&nbsp;由于javascript不支持逆序环视，最后这两个正则表达式可以用python测试。</p>
                                <p> >>> import re <br/><br/>
                                    >>> match = re.compile(r'(?&lt;!^)\d+')<br/><br/>
                                    >>> print match.search("11001100")<br/><br/>
                                    >>> 1001100
                                </p></li>
						</ul>
						<p style="margin: 1em 0px; padding: 0px; line-height: 1.5em; ">
							&nbsp;</p>
					</li>
				</ul>
			</ul>
			<ul class="unsorted">
				<li class="list">举例</li>
					<ul class="unsorted">
					<li class="list">回溯引用 将一些小数位数不同的数全部保留一位小数</li>
					<p>原始数据：&nbsp;&nbsp;&nbsp;&nbsp;   1.22，3.111111， 2222.11111222, 11121111112.10，111111111.0011, 111322.22111, 1.10, 120.12<p>
					<p>需要的结果： 1.2 ，3.1，      2222.1,      , 11121111112.1, 111111111.0,    111322.2,     1.1, 120.1<p>
					vim  :%s/\(\d\+\.\d\)\d*/\1/g    (vim中有些字符需要转义，匹配的其实是(\d+\.)\d* 然后用\1反向引用()中的内容，替换整个小数）<p>
					<li class="list">固化分组</li>
					<p>(?>.{1, 6})[0-9] &nbsp;&nbsp; admin5 &nbsp;&nbsp;固化分组之后将不再回溯，就是说吃进去的东西不会再吐出来，.{1, 6}匹配了admin5，[0-9]没得匹配了，所以整个表达式匹配失败）</p>
					<p>.{1, 6}+[0-9] 	&nbsp;&nbsp; admin5 &nbsp;&nbsp;.{1, 6} 匹配admin6成功，+是一个占有优先量词，不会回溯，[0-9]没得匹配了，整个表达式匹配失败</p>
					<p>.{1, 6}[0-9]  &nbsp;&nbsp; <span class="match">admin5</span> &nbsp;&nbsp;.{1, 6} 匹配admin6成功，[0-9]没得匹配了，回溯，吐出一个5来，[0-9]匹配5成功，整个正则表达式匹配成功</p>
				</ul>
					<li style="line-height: 18px; margin: 0.5em 0px; padding: 0px; ">
						<p style="margin: 1em 0px; padding: 0px; line-height: 1.5em; ">
							在线测试</p>
						<ul class="unsorted">
							
							<li class="list">
								<a href="http://tool.lu/regex/">http://tool.lu/regex/</a></li> 
							<li class="list">
								<a href="http://www.osctools.net/regex">http://www.osctools.net/regex</a></li>
						</ul>
					</li>
				</ul>
			</div>
		</div>
	</div>
</div>


</body>
</html>

